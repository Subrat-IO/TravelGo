  <link rel="stylesheet" href="/css/style.css">
<% layout("layouts/boilerplate") %>

<!-- Top bar -->
<div class="top-bar">
  <!-- Left Scroll Button -->
  <button id="scroll-left" class="scroll-btn">
    <i class='bx bx-chevron-left'></i>
  </button>

  <!-- Scrollable icons -->
  <div id="filters" class="scrollable-icons">
    <div class="filter"><i class='bx bx-leaf'></i><p>Farms</p></div>
    <div class="filter"><i class='bx bx-bed'></i><p>Rooms</p></div>
    <div class="filter"><i class='bx bx-landscape'></i><p>Amazing views</p></div>
    <div class="filter"><i class='bx bx-buildings'></i><p>Iconic cities</p></div>
    <div class="filter"><i class='bx bx-water'></i><p>Surfing</p></div>
    <div class="filter"><i class='bx bx-water'></i><p>Amazing pools</p></div>
    <div class="filter"><i class='bx bx-wind'></i><p>Beach</p></div>
    <div class="filter"><i class='bx bx-home-alt-2'></i><p>Cabins</p></div>
    <div class="filter"><i class='bx bxl-mongodb'></i><p>OMG!</p></div>
    <div class="filter"><i class='bx bx-water'></i><p>Lakefront</p></div>
    <div class="filter"><i class='bx bxs-business'></i><p>Beachfront</p></div>
    <div class="filter"><i class='bx bxs-institution'></i><p>Mountain View</p></div>
    <div class="filter"><i class='bx bxs-fridge'></i><p>Tiny Homes</p></div>
    <div class="filter"><i class='bx bxl-jquery'></i><p>Camping</p></div>
    <div class="filter"><i class='bx bxl-patreon'></i><p>Poolside</p></div>
    <div class="filter"><i class='bx bx-image'></i><p>Pet Friendly</p></div>
    <div class="filter"><i class='bx bx-mobile-alt'></i><p>Vineyard Stay</p></div>
  </div>

  <!-- Right Scroll Button -->
  <button id="scroll-right" class="scroll-btn">
    <i class='bx bx-chevron-right'></i>
  </button>

  <!-- Right fixed controls -->
  <div class="controls">
    <button class="filters-btn">
      <i class="bx bx-slider"></i> Filters
    </button>
    <label class="switch">
      <input type="checkbox" id="tax-toggle">
      <span class="slider round"></span>
    </label>
    <span class="switch-label">Showing Before Tax</span>
  </div>
</div>

<!-- Listing Grid -->
<div class="container py-5">
  <h3 class="text-center mb-4 fw-bold heading-title">
    Explore Your Destination
  </h3>
  <div class="row g-4">
    <% for (let listing of allListing) { %>
      <div class="col-md-4 col-lg-3 d-flex animate-stagger">
        <div class="card listing-card border-0 shadow-sm rounded-4 w-100 overflow-hidden">
          <div class="card-img-container position-relative">
            <span class="badge-favourite">Guest favourite</span>
            <img src="<%= listing.image.url %>" class="card-img-top" alt="<%= listing.title %>" style="height: 220px; object-fit: cover;"/>
          </div>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title fw-semibold text-dark mb-1"><%= listing.title %></h5>
            <p class="card-text text-secondary small mb-2">
              <i class='bx bx-map-pin'></i> <%= listing.location %>, <%= listing.country %>
            </p>
            <div class="price-wrapper">
              <p class="card-text price-tag mb-0" data-price="<%= listing.price %>">
                â‚¹<%= listing.price.toLocaleString("en-IN") %>
              </p>
              <small class="tax-info">(+ 18% GST)</small>
            </div>
            <a href="/listings/<%= listing._id %>" class="btn btn-airbnb rounded-pill mt-auto">View Details</a>
          </div>
        </div>
      </div>
    <% } %>
  </div>
</div>



<script src="/js/public.js"></script>